{% extends 'template.html' %}
{% load static %}
{% block content2 %}

<section id="reviews">
  <h2 class="text-center text-light font">¡Dale un vistazo a las reviews escritas por jugadores como vos!</h2>
  <div class="text-center"><a class="h4 font" href="{% url 'upload' %}">Quiero escribir mi propia review</a></div>
  <div class="container">
      <div class="row mt-5 justify-content-center">

        {% for review in reviews %}

          <!-- Review -->
          <div class="card mb-4 card-border" data-toggle="modal" data-target="#modal-default{{review.id}}" style="max-width: 540px;">
              <div class="row no-gutters font">
                <div class="col-md-4">
                  {% if review.cover %}
                    <img src="/media/{{review.cover}}" width="100%" height="250"><rect width="100%" height="100%"/>
                  {% else %}
                    <svg width="100%" height="250"><rect width="100%" height="100%" fill="#868e96"/><text x="50%" y="50%" fill="#dee2e6" dy=".3em">Sin imagen</text></svg>
                  {% endif %}
                </div>
                <div class="col-md-8">
                  <div class="card-body">
                    <h5 class="card-title">{{review.game_name}}</h5>
                    <p class="card-text">Plataforma: {{review.plataform}}</p>
                    <p class="card-text">Género: {{review.genre}}</p>
                    <p class="card-text">Valoración: {{review.score}}</p>
                    <p class="card-text"><small class="text-muted">Fecha de carga: {{review.created}} </small></p>
                  </div>
                </div>
              </div>
            </div>

          <!-- Modal -->
          <div class="modal fade bd-example-modal-lg font" id="modal-default{{review.id}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
              <div class="modal-content text-light border border-primary">
                  <p>Título: {{review.game_name}}</p>
                  <p>Plataforma: {{review.plataform}}</p>
                  <p>Género: {{review.genre}}</p>
                  <p>Año de lanzamiento: {{review.release_year}}</p>
                  <p>Valoración: {{review.score}}</p>
                  <p>{{review.review}}</p>
              </div>
            </div>
          </div>

        {% endfor %}

      </div>
  </div>
</section>

{% endblock %}