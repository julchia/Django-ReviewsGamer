{% extends 'template.html' %}
{% load static %}
{% block content2 %}

<section id="search-results" style="height: 509px;">

    <h2 class="text-center text-light font pt-5">Has consultado por reviews de <strong>{{query}}</strong></h2>

    <div class="row mt-5 justify-content-center">

    {% for review in query_result %}

            <!-- Review -->
            <div class="card mb-4 card-border" data-toggle="modal" data-target="#modal-default{{review.0}}" style="max-width: 540px;">
                <div class="row no-gutters font">
                <div class="col-md-4">
                    {% if review.7 %}
                        <img src="/media/{{review.7}}" width="100%" height="250"><rect width="100%" height="100%"/>
                    {% else %}
                        <svg width="100%" height="250"><rect width="100%" height="100%" fill="#868e96"/><text x="50%" y="50%" fill="#dee2e6" dy=".3em">Sin imagen</text></svg>
                    {% endif %}
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                    <h5 class="card-title">{{review.1}}</h5>
                    <p class="card-text">Plataforma: {{review.2}}</p>
                    <p class="card-text">Género: {{review.3}}</p>
                    <p class="card-text">Valoración: {{review.6}}</p>
                    <p class="card-text"><small class="text-muted">Fecha de carga: {{review.8}} </small></p>
                    </div>
                </div>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade bd-example-modal-lg font" id="modal-default{{review.0}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                <div class="modal-content text-light border border-primary">
                    <p>Título: {{review.1}}</p>
                    <p>Plataforma: {{review.2}}</p>
                    <p>Género: {{review.3}}</p>
                    <p>Año de lanzamiento: {{review.4}}</p>
                    <p>Valoración: {{review.6}}</p>
                    <p>{{review.5}}</p>
                </div>
                </div>
            </div>

    {% empty %}

        <h2 class="text-center text-light font">Sin embargo, lo sentimos pero todavía no existe una review de <strong>{{query}}</strong></h2>
        <div class="text-center"><a class="h4 font" href="{% url 'upload' %}">Contribuí con la comunidad y creala ahora mismo</a></div>

    {% endfor %}

    </div>

</section>

{% endblock %}